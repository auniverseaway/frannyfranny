(async()=>{const t="https://local.page",e="/nav.html",{protocol:n,hostname:r,port:a,pathname:o}=window.location,c=(()=>{const t=`${n}//${r}`;return a?`${t}:${a}`:t})();(async()=>{if(o!==e){const e=await(async()=>{const t=await fetch(`${c}/nav.html`);return t.ok?t.text():null})();if(e){const n=(t=>{const e=t.querySelector("main > div").innerHTML,n=document.createElement("nav");return n.innerHTML=e,n})(await(async t=>(new DOMParser).parseFromString(t,"text/html"))(e));(e=>{const n=e.getElementsByTagName("a");Array.from(n).forEach((e=>{const{href:n}=e;n.includes(t)&&(e.href=n.replace(t,c))}))})(n),(t=>{const e=document.querySelector("header");e.insertBefore(t,e.firstChild)})(n)}}})()})();